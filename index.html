<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Health AI Advisor</title>
  <link rel="stylesheet" href="style.css">
</head>
  <div id="home-description" style="padding: 30px; text-align: center;">
  <h2>Welcome to Health Advisor!</h2>
  <p>
    This platform helps you track, analyze, and improve your health using AI insights.<br>
    Please log in to access your personalized dashboard.
  </p>
</div>
<body>
  <header>
    <h1>Health Advisor</h1>
    <nav>
      <ul class="nav-links">
        <li><a href="index.html">Dashboard</a></li>
        <li><a href="Insight.html">Insights</a></li>
        <li><a href="Setting.html">Settings</a></li>
      </ul>
      <button class="login-btn" id="openModal">Login</button>
      <button class="logout-btn" id="logoutBtn" style="display:none;">Logout</button>
    </nav>
  </header>

  <div class="modal" id="loginModal">
    <div class="modal-backdrop"></div>
 <div class="modal-content">
  <img src="close.png" alt="Close" class="close" id="closeModal" />

  <!-- Error message for login, place this ABOVE the form -->
  <div id="loginError" style="display:none; color:red; text-align:left; margin-bottom:10px;">
    <img src="image_2025-06-30_104953040.png" alt="Error" style="width:24px;vertical-align:middle;">
    <span id="loginErrorText"></span>
  </div>

  <h2>Login In</h2>
  <form id="loginForm" action="#" method="POST">
    <input type="text" name="email" placeholder="Email" required />
    <input type="password" name="password" placeholder="Password" required />
    <button type="submit">Login</button>
    <p>
      Don't have an account?
      <a href="Signup.html" style="color: black; text-decoration: underline; display: inline;">Sign Up</a>
    </p>
  </form>
</div>
  </div>

 <div class="container">
  <div class="section">

    <!-- Wrap AI interface in a toggleable section -->
    <div id="ai-section" style="display: none;">
      <div class="card ai-insight">
        <h2 id="welcome-message">Welcome back, ðŸ‘‹</h2>

        <!-- AI response output -->
        <div id="ai-response" class="response-box">Response will go hereâ€¦</div>
        <textarea id="ai-prompt" class="prompt-box">></textarea>
        <button id="ai-submit">Send</button>
        <style>
  #ai-submit {
    display: inline-block;
    background-color: #2b7a78; /* Teal */
    color: white;
    border: none;
    padding: 0.6rem 1.2rem;
    font-size: 1rem;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 1rem;
    transition: background-color 0.3s ease, transform 0.1s ease;
  }

  #ai-submit:hover {
    background-color: #205e5d; /* Darker teal on hover */
  }

  #ai-submit:active {
    transform: scale(0.98); /* Subtle click effect */
  }
</style>

      </div>
    </div>

    <style>
      .response-box {
        max-height: 200px;
        overflow-y: auto;
        white-space: pre-wrap;
        word-wrap: break-word;
        padding: 0.75rem;
        background-color: #faf8ca;
        border: 1px solid #ccc;
        border-radius: 8px;
        font-family: monospace;
        font-size: 0.95rem;
        margin-top: 1rem;
        width: 100%;
        box-sizing: border-box;
      }

      .prompt-box {
  max-height: 200px;
  overflow-y: auto;
  white-space: pre-wrap;
  word-wrap: break-word;
  padding: 0.75rem;
  background-color: #faf8ca;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-family: monospace;
  font-size: 0.95rem;
  margin-top: 1rem;
  width: 100%;
  box-sizing: border-box;
  resize: none; /* Prevent resizing */
}
    </style>

  </div>
</div>

<div id="user-stats" style="display: none; padding: 20px;">
  <div class="container">
    <div class="section">
      <div class="card">
        <h2>Your Health Stats</h2>
        <!-- Additional stats here -->
      </div>
    </div>
  </div>
</div>

  <script>
  function isLoggedIn() {
    return sessionStorage.getItem('loggedIn') === 'true';
  }

  function updateVisibility() {
    const homeDesc = document.getElementById('home-description');
    const aiSection = document.getElementById('ai-section');
    const userStats = document.getElementById('user-stats');
    const loginBtn = document.getElementById('openModal');
    const logoutBtn = document.getElementById('logoutBtn');

    if (isLoggedIn()) {
      if(homeDesc) homeDesc.style.display = 'none';
      if(aiSection) aiSection.style.display = '';
      if(userStats) userStats.style.display = '';
      if(loginBtn) loginBtn.style.display = 'none';
      if(logoutBtn) logoutBtn.style.display = '';
    } else {
      if(homeDesc) homeDesc.style.display = '';
      if(aiSection) aiSection.style.display = 'none';
      if(userStats) userStats.style.display = 'none';
      if(loginBtn) loginBtn.style.display = '';
      if(logoutBtn) logoutBtn.style.display = 'none';
    }
  }

  document.addEventListener('DOMContentLoaded', function() {
    updateVisibility();

    const loginForm = document.getElementById('loginForm');
    if (loginForm) {
      loginForm.addEventListener('submit', function(e) {
        e.preventDefault();
        sessionStorage.setItem('loggedIn', 'true');
        updateVisibility();
        document.getElementById('loginModal').style.display = 'none';
      });
    }

    const logoutBtn = document.getElementById('logoutBtn');
    if (logoutBtn) {
      logoutBtn.addEventListener('click', function() {
        sessionStorage.removeItem('loggedIn');
        updateVisibility();
      });
    }
  });
</script>

 <footer>
   &copy; 2025 Phillip Chou
    </footer>
<script src="script.js"></script>
  <!--Node.js -->
  <script src=""></script>
</body>      
</html>
